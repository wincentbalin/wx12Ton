<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>wx12Ton: Series_IO class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a></div>
<h1>Series_IO Class Reference</h1>Read/Write <a class="el" href="classSeries.html">Series</a> to a !12Ton MIDI-file.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;midi_file.h&gt;</code>
<p>
<a href="classSeries__IO-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>enum &nbsp;</td><td class="memItemRight" valign=bottom>{ <a class="el" href="classSeries__IO.html#Series__IOw1Series__IOw0">MIDI_DEF_LOUD</a> = midi_ofile::MIDI_DEF_LOUD
 }</td></tr>

<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>std::pair&lt; bool, <a class="el" href="classSeries.html">Series</a> &gt;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classSeries__IO.html#Series__IOa1">read</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">read file  <a href="#Series__IOa1"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="Series__IOa2" doxytag="Series_IO::write" ></a>
bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classSeries__IO.html#Series__IOa2">write</a> (const <a class="el" href="classSeries.html">Series</a> &amp;_s, uint8_t _iLoud=MIDI_DEF_LOUD)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">write series <code>_s</code>, with loundness _iLoud <br><br></td></tr>
<tr><td colspan=2><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classSeries__IO.html#Series__IOb0">write_char</a> (char)  throw ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">write a char  <a href="#Series__IOb0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual ssize_t&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classSeries__IO.html#Series__IOb1">read_block</a> (char *_cp, ssize_t _iS)  throw ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">read a block of chars  <a href="#Series__IOb1"></a><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Read/Write <a class="el" href="classSeries.html">Series</a> to a !12Ton MIDI-file. 
<p>
The file format is a midi file, which contains the series as 1/4 notes in a 1/4 measure. A note value of <a class="el" href="classNote.html#Notew9Notew3">Note::TONE_MIN</a> sounds as "c1". If no octave information is available, the the notes is this octave. If the octave is beyond the range of tones, which are allowed in a MIDI file, the note is repeated, encoding the missing octaves: E.g. if the note is in the lowest possible octave and is written as 2*1/8, one octave below this level is meant (analogous e.g. 8*1/32 means three octaves below).<p>
What is special about the !12Ton MIDI format is, that in the MIDI comment block the series is encoded as a string of length 24 (cf. <a class="el" href="classSeries.html#Seriesa1">Series::Series(const std::string&amp;)</a>. This information is used to read out a !12Ton MIDI file.<p>
You have to dervive from this class and overload the methods <a class="el" href="classSeries__IO.html#Series__IOb0">write_char(char)</a>throw() and/or <a class="el" href="classSeries__IO.html#Series__IOb1">read_block(char*,ssize_t)</a>throw() in order to implement reading and/or writing to a file. By default, this methods return an error. 
<p>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="Series__IOw1" doxytag="Series_IO::@1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> anonymous enum
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a class="anchor" name="Series__IOw1Series__IOw0" doxytag="MIDI_DEF_LOUD" ></a>MIDI_DEF_LOUD</em>&nbsp;</td><td>
loudness value, that represents an intermediate loudness </td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="Series__IOa1" doxytag="Series_IO::read" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::pair&lt;bool,<a class="el" href="classSeries.html">Series</a>&gt; Series_IO::read </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
read file 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>The <code>bool</code> is <code>true</code> if reading was successfull. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="Series__IOb1" doxytag="Series_IO::read_block" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ssize_t Series_IO::read_block </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>_cp</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>ssize_t&nbsp;</td>
          <td class="mdname" nowrap> <em>_iS</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2">  throw ()<code> [inline, protected, virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
read a block of chars 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>_cp</em>&nbsp;</td><td>pointer to data </td></tr>
    <tr><td valign=top><em>_iS</em>&nbsp;</td><td>length of data</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>number of chars, successfully read, negative if error.</dd></dl>
Overload this method (use e.g. fwrite() and convert retval) if you need file input. The default is to return an error.<p>
<dl compact><dt><b>See also:</b></dt><dd>Even if the retval is smaller as <code>_iS</code>, no retry will be done. So retry in this function, if neccessary. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="Series__IOb0" doxytag="Series_IO::write_char" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual bool Series_IO::write_char </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>  throw ()<code> [inline, protected, virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
write a char 
<p>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>true</em>&nbsp;</td><td>if success</td></tr>
  </table>
</dl>
Overload this method (use e.g. fwrite() and convert retval) if you need file output. The default is to return an error.     </td>
  </tr>
</table>
<hr><span style="font-size:x-small"><div align=center>
last change: 24 Jun 2004<br>
created by <a href="http://www.doxygen.org/">doxygen</a>
1.3.5 from <a href="http://wx12ton.sourceforge.net/">wx12Ton</a>
1.1.0-rc1<br>
&copy;2004 Matthias Kleinmann &lt;<a
href="mailto:Matthias dot Kleinmann at gmx dot de">Matthias dot Kleinmann at
gmx dot de</a>&gt;<br>
</div></span>
</body>
</html>
